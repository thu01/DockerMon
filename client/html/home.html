<div>
    <h1>Home Page</h1>
    <form name="registerForm" ng-submit="register(user)" >
		<div class="form-group" ">
			<label for="username">Username</label>
			<div>
                <input type="text" class="form-control" id="username" placeholder="username" name="username"
                       ng-model="user.username" ng-minlength="3" ng-maxlength="32" ng-pattern="/^[0-9a-zA-z._]*$/" 
                       ng-model-options="{ updateOn: 'blur' }" username required />
            </div>
            <div ng-messages="registerForm.username.$error">
                <div ng-message="minlength">username too short</div>
                <div ng-message="maxlength">username too long</div>
                <div ng-message="pattern">username contains special characters</div>
                <div ng-message="validUsername">username already exists</div>
            </div>
		</div>
		<div class="form-group">
			<label for="email">Email</label>
			<div>
                <input type="email" class="form-control" id="email" placeholder="email" name="email" 
                        ng-model="user.email" ng-model-options="{ updateOn: 'blur' }" 
                        ng-pattern="/^[_a-z0-9]+(\.[_a-z0-9]+)*@[a-z0-9-]+(\.[a-z0-9-]+)*(\.[a-z]{2,4})$/" required />
            </div>
            <div ng-messages="registerForm.email.$error">
                <div ng-message="email">Invalid email address</div>
                <div ng-message="pattern">Invalid email address</div>
            </div>
		</div>
		<div class="form-group">
			<label for="password">Password</label>
            <div>
				 <input type="password" class="form-control" id="password" placeholder="password" name="password"
                        ng-model="user.password" ng-minlength="5" ng-maxlength="32" 
                        ng-model-options="{ updateOn: 'blur', allowInvalid: true}" required/>	
            </div>
            <div ng-messages="registerForm.password.$error">
                <div ng-message="minlength">password too short</div>
                <div ng-message="maxlength">password too long</div>
            </div>
		</div>
		<div class="form-group">
			<label for="verifyPassword">Verify Password</label>
			<div>
                <input type="password" class="form-control" id="verifyPassword" placeholder="verify password" 
                       name="verifyPassword" ng-model="user.verifyPassword" compare-to="user.password" 
                       ng-model-options="{ updateOn: 'blur' }" required />
            </div>
            <div ng-messages="registerForm.verifyPassword.$error">
                <div ng-message="passwordMatch">Password don't match</div>
            </div>
		</div>
		<input type="submit" value="Register" class="btn btn-primary" 
               ng-disabled="registerForm.$invalid || registerForm.username.$pending.username" />
	</form>
</div>